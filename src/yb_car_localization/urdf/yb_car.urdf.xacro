<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="yb_car">
  
  <!-- Include the manufacturer's URDF -->
  <xacro:include filename="$(find yb_car_localization)/urdf/MicroROS.urdf" />
  
  <!-- 
    Additional frame definitions for ROS2 compatibility
    The MicroROS.urdf already contains:
    - base_link
    - imu_Link (IMU sensor)
    - radar_Link (LiDAR/laser scanner)
    - Four wheel links
    - Two servo joints
  -->
  
  <!-- Create base_footprint as parent of base_link -->
  <link name="base_footprint"/>
  <joint name="base_footprint_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin xyz="0 0 0.02125" rpy="0 0 0"/>  <!-- Raise base_link above ground -->
  </joint>
  
  <!-- Create standard laser_link alias for compatibility with SLAM packages -->
  <link name="laser_link"/>
  <joint name="laser_link_joint" type="fixed">
    <parent link="radar_Link"/>
    <child link="laser_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  
  <!-- Create laser_frame for the actual laser scanner data -->
  <link name="laser_frame"/>
  <joint name="laser_frame_joint" type="fixed">
    <parent link="radar_Link"/>
    <child link="laser_frame"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>
  
  <!-- Create imu_frame for the IMU (matches the frame_id from robot) -->
  <link name="imu_frame"/>
  <joint name="imu_frame_joint" type="fixed">
    <parent link="imu_Link"/>
    <child link="imu_frame"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>

</robot>
